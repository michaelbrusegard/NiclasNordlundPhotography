// Prices array
const pricesArray = [
    [
        "  koekar 100e_.jpg",
        "100"
    ],
    [
        "aada 80e.jpg",
        "80"
    ],
    [
        "aador med ungar 100e_.jpg",
        "100"
    ],
    [
        "aaland vaestra hamnen vinter 180.jpg",
        "180"
    ],
    [
        "aalands hav 150e.jpg",
        "150"
    ],
    [
        "aalands skaergaard 80 euro.jpg",
        "80"
    ],
    [
        "aeggtjuven 200e_.jpg",
        "200"
    ],
    [
        "aengsull 160e.jpg",
        "160"
    ],
    [
        "aengsull 165e.jpg",
        "165"
    ],
    [
        "aengsull 70e.jpg",
        "70"
    ],
    [
        "aengsull 75.jpg",
        "75"
    ],
    [
        "aeppel 40e.jpg",
        "40"
    ],
    [
        "alfaagel 100e.jpg",
        "100"
    ],
    [
        "alfaagel 50e.jpg",
        "50"
    ],
    [
        "alfaagel aalands hav 300 euro.jpg",
        "300"
    ],
    [
        "bad hair day 120e.jpg",
        "120"
    ],
    [
        "champagne vid havet 120e_.jpg",
        "120"
    ],
    [
        "champagne vid havet 150e_.jpg",
        "150"
    ],
    [
        "dalkarby traesk 125e.jpg",
        "125"
    ],
    [
        "det moerka havet 125e_.jpg",
        "125"
    ],
    [
        "dirigenten 2 80e.jpg",
        "80"
    ],
    [
        "dirigenten 200e_.jpg",
        "200"
    ],
    [
        "eckeroe post & tullhus 100e_.jpg",
        "100"
    ],
    [
        "ejder 100e.jpg",
        "100"
    ],
    [
        "ejder 125.jpg",
        "125"
    ],
    [
        "ejder 125e.jpg",
        "125"
    ],
    [
        "ejder 150 euro.jpg",
        "150"
    ],
    [
        "ejder 150e.jpg",
        "150"
    ],
    [
        "ejder 155e.jpg",
        "155"
    ],
    [
        "ejder 170e.jpg",
        "170"
    ],
    [
        "ejder 180e.jpg",
        "180"
    ],
    [
        "ejder 2 150 euro.jpg",
        "150"
    ],
    [
        "ejder 250e_.jpg",
        "250"
    ],
    [
        "ejder 300e.jpg",
        "300"
    ],
    [
        "ejder 350e.jpg",
        "350"
    ],
    [
        "ejder 355e.jpg",
        "355"
    ],
    [
        "ejder 75e.jpg",
        "75"
    ],
    [
        "ejder 80e.jpg",
        "80"
    ],
    [
        "ejder 88e.jpg",
        "88"
    ],
    [
        "ejder 90e.jpg",
        "90"
    ],
    [
        "ejder kobba klintar 250e_.jpg",
        "250"
    ],
    [
        "fiske 1 150e.jpg",
        "150"
    ],
    [
        "fiske 2 50e.jpg",
        "50"
    ],
    [
        "fiske 3 150 e.jpg",
        "150"
    ],
    [
        "fiske 40e.jpg",
        "40"
    ],
    [
        "fiske 50e.jpg",
        "50"
    ],
    [
        "fiske 55.jpg",
        "55"
    ],
    [
        "fiskelycka 80e.jpg",
        "80"
    ],
    [
        "fiskestugor rannoerarna  100e_.jpg",
        "100"
    ],
    [
        "fisktaerna 40e_.jpg",
        "40"
    ],
    [
        "fjaeder 100e.jpg",
        "100"
    ],
    [
        "fjaeder 250e.jpg",
        "250"
    ],
    [
        "foetboll 50e_.jpg",
        "50"
    ],
    [
        "frukost vid havet 60e_.jpg",
        "60"
    ],
    [
        "gammelskog 150 e.jpg",
        "150"
    ],
    [
        "graagaess 100e_.jpg",
        "100"
    ],
    [
        "graagaess 110e_.jpg",
        "110"
    ],
    [
        "graesloek i solnedgaang 240e_.jpg",
        "240"
    ],
    [
        "graesloek i solnedgaang 250e_.jpg",
        "250"
    ],
    [
        "graesloek vid havet  125_.jpg",
        "125"
    ],
    [
        "graesloek vid havet 2  125_.jpg",
        "125"
    ],
    [
        "grisslor 130e_.jpg",
        "130"
    ],
    [
        "guding 200e_.jpg",
        "200"
    ],
    [
        "guding 250e_.jpg",
        "250"
    ],
    [
        "gudingar 150ee.jpg",
        "150"
    ],
    [
        "gudingar 200e.jpg",
        "200"
    ],
    [
        "hammarudda 150e_.jpg",
        "150"
    ],
    [
        "hammarudda 200e_.jpg",
        "200"
    ],
    [
        "hammarudda 50e_.jpg",
        "50"
    ],
    [
        "hammarudda 80e.jpg",
        "80"
    ],
    [
        "hamnsundet 80e.jpg",
        "80"
    ],
    [
        "hamnsundet 85e.jpg",
        "85"
    ],
    [
        "hav 80e_.jpg",
        "80"
    ],
    [
        "hav i solnedgaang 2 200e_.jpg",
        "200"
    ],
    [
        "hav i solnedgaang 200e_.jpg",
        "200"
    ],
    [
        "havet 100e.jpg",
        "100"
    ],
    [
        "havet 150.jpg",
        "150"
    ],
    [
        "havet 150e.jpg",
        "150"
    ],
    [
        "havet 50e_.jpg",
        "50"
    ],
    [
        "havs vaag 1  80e_.jpg",
        "80"
    ],
    [
        "havs vaag 2   180e_.jpg",
        "180"
    ],
    [
        "havsgloed 2  130e.jpg",
        "130"
    ],
    [
        "havsgloed 3 130e.jpg",
        "130"
    ],
    [
        "havsgloed 80e.jpg",
        "80"
    ],
    [
        "havsoern 150e_.jpg",
        "150"
    ],
    [
        "havsoern i gryning 200e_.jpg",
        "200"
    ],
    [
        "havsoernsbo laagskaer 100 euro_.jpg",
        "100"
    ],
    [
        "havsudde 170e.jpg",
        "170"
    ],
    [
        "havsudde 180e.jpg",
        "180"
    ],
    [
        "heart 180e_.jpg",
        "180"
    ],
    [
        "higland catle 100e_.jpg",
        "100"
    ],
    [
        "higland catle 85e.jpg",
        "85"
    ],
    [
        "higland catle 90e.jpg",
        "90"
    ],
    [
        "hoest aaland 80euro.jpg",
        "80"
    ],
    [
        "hoestloev 50e.jpg",
        "50"
    ],
    [
        "hoestmorgon 100e.jpg",
        "100"
    ],
    [
        "hoestmorgon 105e.jpg",
        "105"
    ],
    [
        "hoestmorgon 110e.jpg",
        "110"
    ],
    [
        "hoestmorgon 120e.jpg",
        "120"
    ],
    [
        "hoestmorgon 125e.jpg",
        "125"
    ],
    [
        "hoestmorgon 135e.jpg",
        "135"
    ],
    [
        "hoestmorgon 140e.jpg",
        "140"
    ],
    [
        "hoestmorgon 145e.jpg",
        "145"
    ],
    [
        "hoestmorgon 80e.jpg",
        "80"
    ],
    [
        "hot dogs 1  150e.jpg",
        "150"
    ],
    [
        "hot dogs 2  150e.jpg",
        "150"
    ],
    [
        "insjoe geta 150e.jpg",
        "150"
    ],
    [
        "is 100e.jpg",
        "100"
    ],
    [
        "is 60e.jpg",
        "60"
    ],
    [
        "is 65e.jpg",
        "65"
    ],
    [
        "is 70e.jpg",
        "70"
    ],
    [
        "is 80e.jpg",
        "80"
    ],
    [
        "is 90e.jpg",
        "90"
    ],
    [
        "isbelagd strand 40e_.jpg",
        "40"
    ],
    [
        "kaellskaer 50e_.jpg",
        "50"
    ],
    [
        "kaellskaer 60e_.jpg",
        "60"
    ],
    [
        "kaeringsund 125 e.jpg",
        "125"
    ],
    [
        "kajak aaland  2 180e.jpg",
        "180"
    ],
    [
        "kajak aaland 180e.jpg",
        "180"
    ],
    [
        "kajaking aaland 2  200 euro.jpg",
        "200"
    ],
    [
        "kalv 90e.jpg",
        "90"
    ],
    [
        "kastelholm 120e_.jpg",
        "120"
    ],
    [
        "kastelholm 130e_.jpg",
        "130"
    ],
    [
        "kastelholm 190e.jpg",
        "190"
    ],
    [
        "kastelholm 200e_.jpg",
        "200"
    ],
    [
        "kastelholm 220e_.jpg",
        "220"
    ],
    [
        "kastelholms slott aaland 250euro.jpg",
        "250"
    ],
    [
        "kastellholms slott 130 euro.jpg",
        "130"
    ],
    [
        "kastellholms slott 180 euro.jpg",
        "180"
    ],
    [
        "kattunge 1 180e.jpg",
        "180"
    ],
    [
        "kattunge 2 180e.jpg",
        "180"
    ],
    [
        "kobba klintar 100e.jpg",
        "100"
    ],
    [
        "kobba klintar 100e_.jpg",
        "100"
    ],
    [
        "kobba klintar 40e_.jpg",
        "40"
    ],
    [
        "kobba klintar 50e_.jpg",
        "50"
    ],
    [
        "kobba klintar aaland 350 euro_.jpg",
        "350"
    ],
    [
        "kobba klintar hamn 150 euro_.jpg",
        "150"
    ],
    [
        "koekar 100e_.jpg",
        "100"
    ],
    [
        "koekar 150e_.jpg",
        "150"
    ],
    [
        "koekar 180e.jpg",
        "180"
    ],
    [
        "koekar 40e_.jpg",
        "40"
    ],
    [
        "koekar 60e.jpg",
        "60"
    ],
    [
        "koekar aelg  250e.jpg",
        "250"
    ],
    [
        "koekar karlby 120e.jpg",
        "120"
    ],
    [
        "koekar karlby 180e.jpg",
        "180"
    ],
    [
        "koekar karlby 50e.jpg",
        "50"
    ],
    [
        "koekar karlby 70e.jpg",
        "70"
    ],
    [
        "koekar karlby 80e.jpg",
        "80"
    ],
    [
        "koekar strandkaal 140e.jpg",
        "140"
    ],
    [
        "koekar svan 100e_.jpg",
        "100"
    ],
    [
        "kvaell vid havet 125 e.jpg",
        "125"
    ],
    [
        "laegereld 100e_.jpg",
        "100"
    ],
    [
        "lemland kor paa bete 125e.jpg",
        "125"
    ],
    [
        "lemstroems kanal 150e_.jpg",
        "150"
    ],
    [
        "lemstroems kanal 200e_.jpg",
        "200"
    ],
    [
        "loevmatta 80e.jpg",
        "80"
    ],
    [
        "loevmatta 85e.jpg",
        "85"
    ],
    [
        "lugn & ro aaland 500 euro.jpg",
        "500"
    ],
    [
        "maardhund 150e_.jpg",
        "150"
    ],
    [
        "maardhund 155e_.jpg",
        "155"
    ],
    [
        "maerkets fyr 150 euro_.jpg",
        "150"
    ],
    [
        "maerkets fyr 155 euro_.jpg",
        "155"
    ],
    [
        "maerkets fyr 180 euro_.jpg",
        "180"
    ],
    [
        "marhaellan 150 euro_.jpg",
        "150"
    ],
    [
        "marhaellan 300 euro.jpg",
        "300"
    ],
    [
        "marhaellan aaland 150 euro.jpg",
        "150"
    ],
    [
        "marhaellan fyr 100e.jpg",
        "100"
    ],
    [
        "marhaellan fyr 180e.jpg",
        "180"
    ],
    [
        "marhaellan-kobba klintar 250euro_.jpg",
        "250"
    ],
    [
        "mariehamn 100e.jpg",
        "100"
    ],
    [
        "mariehamn 160e.jpg",
        "160"
    ],
    [
        "maskrosem 120e.jpg",
        "120"
    ],
    [
        "maskrosem 150e.jpg",
        "150"
    ],
    [
        "maskrosem 160e.jpg",
        "160"
    ],
    [
        "morgon vid lumparn 150e_.jpg",
        "150"
    ],
    [
        "morgon vid lumparn 180e_.jpg",
        "180"
    ],
    [
        "morgondis 40e.jpg",
        "40"
    ],
    [
        "norrhavet 1  125e.jpg",
        "125"
    ],
    [
        "norrhavet 2 125e.jpg",
        "125"
    ],
    [
        "november vid havet 100e.jpg",
        "100"
    ],
    [
        "novembermoerker 120 e.jpg",
        "120"
    ],
    [
        "oernen & kraakan 300e_.jpg",
        "300"
    ],
    [
        "pommern 150e.jpg",
        "150"
    ],
    [
        "pommern 2   150e.jpg",
        "150"
    ],
    [
        "pommern b&w 300e_.jpg",
        "300"
    ],
    [
        "raabock 120e.jpg",
        "120"
    ],
    [
        "raabock 125e.jpg",
        "125"
    ],
    [
        "raabock 130.jpg",
        "130"
    ],
    [
        "raabock 150e.jpg",
        "150"
    ],
    [
        "raabock 170e.jpg",
        "170"
    ],
    [
        "raabock 176e.jpg",
        "176"
    ],
    [
        "raabock 40e.jpg",
        "40"
    ],
    [
        "raabock 50e.jpg",
        "50"
    ],
    [
        "raabock 60ee.jpg",
        "60"
    ],
    [
        "raadjur 140e_.jpg",
        "140"
    ],
    [
        "ramsloek 140e_.jpg",
        "140"
    ],
    [
        "ros 150e_.jpg",
        "150"
    ],
    [
        "roskarl 50e_.jpg",
        "50"
    ],
    [
        "sael koekar 100e.jpg",
        "100"
    ],
    [
        "saetingskaer 200e_.jpg",
        "200"
    ],
    [
        "saetingskaer 80e.jpg",
        "80"
    ],
    [
        "saggoe 80e.jpg",
        "80"
    ],
    [
        "saggoe 81e.jpg",
        "81"
    ],
    [
        "saggoe 85e.jpg",
        "85"
    ],
    [
        "saggoe 86e.jpg",
        "86"
    ],
    [
        "sailor 125e.jpg",
        "125"
    ],
    [
        "sailor 130e.jpg",
        "130"
    ],
    [
        "sandstrand  koekar 100e_.jpg",
        "100"
    ],
    [
        "signildskaer 125e.jpg",
        "125"
    ],
    [
        "silverskaer 180e_.jpg",
        "180"
    ],
    [
        "sjoekvarteret 150e.jpg",
        "150"
    ],
    [
        "sjoekvarteret 200.jpg",
        "200"
    ],
    [
        "sjoekvarteret 60e.jpg",
        "60"
    ],
    [
        "sjoekvarteret 80e.jpg",
        "80"
    ],
    [
        "sjoekvarteret aaland 80 euro.jpg",
        "80"
    ],
    [
        "sjoekvarteret albanus 140e.jpg",
        "140"
    ],
    [
        "skaergaardsfaerja 80e_.jpg",
        "80"
    ],
    [
        "smaaskrake 40e.jpg",
        "40"
    ],
    [
        "solnedaang i havet 120e_.jpg",
        "120"
    ],
    [
        "solnedaang i havet 160e_.jpg",
        "160"
    ],
    [
        "solnedaang norra aaland 140e.jpg",
        "140"
    ],
    [
        "solnedaang norra aaland 170e.jpg",
        "170"
    ],
    [
        "sommarbad 130e.jpg",
        "130"
    ],
    [
        "sothoenan 125 e.jpg",
        "125"
    ],
    [
        "spindelnaet 40e_.jpg",
        "40"
    ],
    [
        "strand 100e_.jpg",
        "100"
    ],
    [
        "sunnan ii sjoekvarteret 180e.jpg",
        "180"
    ],
    [
        "sunset 100e_.jpg",
        "100"
    ],
    [
        "sunset 125 e.jpg",
        "125"
    ],
    [
        "sunshower 150e.jpg",
        "150"
    ],
    [
        "sunshower 2  120e.jpg",
        "120"
    ],
    [
        "svaertor 1  100e_.jpg",
        "100"
    ],
    [
        "svaertor 1  200e_.jpg",
        "200"
    ],
    [
        "svaertor 1  60e_.jpg",
        "60"
    ],
    [
        "svaertor 1  80e_.jpg",
        "80"
    ],
    [
        "svaertor 1  90e_.jpg",
        "90"
    ],
    [
        "svan 100e.jpg",
        "100"
    ],
    [
        "svan 150 e.jpg",
        "150"
    ],
    [
        "svan familj 80e.jpg",
        "80"
    ],
    [
        "svan i solnedgaang 180e.jpg",
        "180"
    ],
    [
        "taerna 200e_.jpg",
        "200"
    ],
    [
        "taerna 230e.jpg",
        "230"
    ],
    [
        "taerna 250e.jpg",
        "250"
    ],
    [
        "the rabbit 100e.jpg",
        "100"
    ],
    [
        "travhaestar 40e_.jpg",
        "40"
    ],
    [
        "travhaestar 41e_.jpg",
        "41"
    ],
    [
        "trygghet 1  100e_.jpg",
        "100"
    ],
    [
        "trygghet 2 125_.jpg",
        "125"
    ],
    [
        "trygghet 3 130e.jpg",
        "130"
    ],
    [
        "vaag 120e.jpg",
        "120"
    ],
    [
        "vaag 160e.jpg",
        "160"
    ],
    [
        "vaag 165.jpg",
        "165"
    ],
    [
        "vackert hav 180e_.jpg",
        "180"
    ],
    [
        "vallmo 150e.jpg",
        "150"
    ],
    [
        "vid havet 100e.jpg",
        "100"
    ],
    [
        "vid havet 100e_.jpg",
        "100"
    ],
    [
        "vid havet 80e.jpg",
        "80"
    ],
    [
        "vikings 1  80e_.jpg",
        "80"
    ],
    [
        "vikings 2  120e_.jpg",
        "120"
    ],
    [
        "vikings 2  80e_.jpg",
        "80"
    ],
    [
        "vinter aaland 150e.jpg",
        "150"
    ],
    [
        "vinter hare 150e.jpg",
        "150"
    ],
    [
        "vinter vid havet 120e.jpg",
        "120"
    ],
    [
        "vintermorgon 150e.jpg",
        "150"
    ],
    [
        "vintermorgon 80e.jpg",
        "80"
    ],
    [
        "vinternatt 150e.jpg",
        "150"
    ],
    [
        "vinternatt 200e.jpg",
        "200"
    ],
    [
        "vinternatt 300e.jpg",
        "300"
    ],
    [
        "vinternatt 310e.jpg",
        "310"
    ],
    [
        "ziggy 200e.jpg",
        "200"
    ]
];

// Wrapper div for shop items
const gridWrapper = document.getElementById('gridWrapper');
const observeGridItems = new IntersectionObserver(shopFadeOnscroll);

// Variables for logic around how many items that need loading
let itemsToLoad = 0;
let itemsLoaded = 0;

// Button that scrolls the window to the top
const scrollTopButtons = document.querySelectorAll('.arrow');

// Fetching the checkout menu and shopping cart button elements
const checkoutMenu = document.getElementById('checkoutMenu');
const cartButtons = document.querySelectorAll('.linkIcon.linkCart');
const redDots = document.querySelectorAll('.redDot');

// Keeping track of the checkout elements
const checkoutButton = document.getElementById('checkoutButton');
const checkoutTotalDisplay = document.getElementById('checkoutTotalDisplay');
let addedItems = [];
let checkoutMenuClicks = 0;
let itemNumber = 0;
let checkoutTotal = 0;

// Widths of the shopping cart button and checkout menu
const style = getComputedStyle(document.body);
const cartButtonWidth = parseInt(style.getPropertyValue('--menuIconSize').slice(0, -2));
const checkoutWidth = parseInt(style.getPropertyValue('--checkoutWidth').slice(0, -2));

// Variables for slide transition
const nav = document.getElementById('nav');
const shopNav = document.getElementById('shopNav');
const navigatedFromShowcaseOrHome = ['home.html', 'nature.html', 'animals.html', 'architectural.html', 'portrait.html', 'sport.html', 'wedding.html'];
let navigatedFrom = document.referrer

// When the DOM is done loading: loads new image containers and aligns checkout menu
document.addEventListener('DOMContentLoaded', () => {slideTransition(shopNav, nav, navigatedFromShowcaseOrHome); windowLoad(); alignCheckout();});

// Changes to the window: loads new image containers and aligns checkout menu
window.addEventListener("scroll", () => {scrollLoad();});
window.addEventListener("resize", () => {windowLoad(); alignCheckout();});
window.addEventListener("orientationChange", () => {windowLoad(); alignCheckout();});

// Adds ending part of animation
getLinkIcon(getCurrentNavElement(nav), 'linkBag').addEventListener('animationend', () => {animationEndOnNavElements(shopNav, nav)});
getLinkIcon(getCurrentNavElement(nav), 'linkSignature').addEventListener('animationend', () => {removeAnimationEndOnNavElements(nav)});

// Check when the current bag icons are clicked
Array.from(shopNav.children).forEach(el => {getLinkIcon(el, 'linkBag').addEventListener('click', event => {
    event.preventDefault(); redirectToLastLink(navigatedFromShowcaseOrHome);});});

// Checks for clicks on the shopping cart icon to toggle the checkout menu
cartButtons.forEach(el => el.addEventListener('click', event => {
    event.preventDefault();
    alignCheckout();
    // Check which scale we want to set the new z-index with
    checkoutMenuClicks += 1;
    let scale = 1;
    if (checkoutMenuClicks % 2 == 1) {
        scale = 3;
    }
    // Toggle the menu
    checkoutMenu.classList.toggle('active');
    checkoutMenu.addEventListener('transitionend', () => {
        checkoutMenu.style.setProperty('--checkoutMenuZindex',
            `${style.getPropertyValue('--checkoutMenuZindex')*scale}`);
    }, {once: true});
}));

// Logs the current checkout items to alert
checkoutButton.addEventListener('click', () => {
    let n = 1;
    let alertString = `Total number of items: ${itemNumber}\n\n`
    for (const item of addedItems) {
        const name = item.children[2].innerHTML
        const price = item.children[1].innerHTML;
        alertString += `Item ${n}: \nName: ${name}\nPrice: ${price}\n\n`;
        n += 1;
    }
    alertString += `Total cost at checkout: ${checkoutTotal}€`;
    alert(alertString);
});

// Eventlistener for scroll-back-to-top button
scrollTopButtons.forEach(el => {
    el.addEventListener('click', event => {
    event.preventDefault();
    document.documentElement.scrollTo({
        top: 0,
        behavior: 'smooth'
    });
})});
